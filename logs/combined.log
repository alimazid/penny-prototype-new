{"level":"info","message":"üöÄ Starting Penny Prototype Server...","timestamp":"2025-08-20T22:25:40.946Z"}
{"level":"info","message":"üìä Initializing database...","timestamp":"2025-08-20T22:25:40.948Z"}
{"level":"info","message":"Database Info:","timestamp":"2025-08-20T22:25:41.186Z"}
{"level":"info","message":"‚úÖ Database connection established","timestamp":"2025-08-20T22:25:41.195Z"}
{"level":"info","message":"‚úÖ Database connected","timestamp":"2025-08-20T22:25:41.196Z"}
{"level":"info","message":"üîÑ Initializing Redis...","timestamp":"2025-08-20T22:25:41.196Z"}
{"level":"info","message":"üîÑ Connecting to Redis...","timestamp":"2025-08-20T22:25:41.196Z"}
{"level":"info","message":"üì° Redis client connected","timestamp":"2025-08-20T22:25:41.208Z"}
{"level":"info","message":"‚úÖ Redis client ready","timestamp":"2025-08-20T22:25:41.210Z"}
{"level":"info","message":"‚úÖ Redis connection established","timestamp":"2025-08-20T22:25:41.211Z"}
{"level":"info","message":"‚úÖ Redis connected","timestamp":"2025-08-20T22:25:41.211Z"}
{"level":"info","message":"üîå Initializing WebSocket service...","timestamp":"2025-08-20T22:25:41.211Z"}
{"level":"info","message":"WebSocket service initialized","timestamp":"2025-08-20T22:25:41.212Z"}
{"level":"info","message":"‚úÖ WebSocket service initialized","timestamp":"2025-08-20T22:25:41.212Z"}
{"level":"info","message":"üì§ Initializing queue service...","timestamp":"2025-08-20T22:25:41.213Z"}
{"level":"info","message":"Initializing queue service...","timestamp":"2025-08-20T22:25:41.213Z"}
{"level":"info","message":"Queue service initialized successfully","timestamp":"2025-08-20T22:25:41.215Z"}
{"level":"info","message":"‚úÖ Queue service initialized","timestamp":"2025-08-20T22:25:41.215Z"}
{"level":"info","message":"‚öôÔ∏è Initializing email processor...","timestamp":"2025-08-20T22:25:41.215Z"}
{"level":"info","message":"OpenAI service initialized successfully","timestamp":"2025-08-20T22:25:41.329Z"}
{"level":"info","message":"‚úÖ Email processor initialized","timestamp":"2025-08-20T22:25:41.330Z"}
{"level":"info","message":"üéâ Server running on http://localhost:3000","timestamp":"2025-08-20T22:25:41.331Z"}
{"level":"info","message":"üìä Dashboard available at http://localhost:3000/dashboard","timestamp":"2025-08-20T22:25:41.331Z"}
{"level":"info","message":"üîç Health check: http://localhost:3000/health","timestamp":"2025-08-20T22:25:41.331Z"}
{"level":"info","message":"üìö Environment: development","timestamp":"2025-08-20T22:25:41.331Z"}
{"level":"info","message":"üîß Development mode - detailed logging enabled","timestamp":"2025-08-20T22:25:41.331Z"}
{"level":"info","message":"üåê Setup ngrok for webhooks: ngrok http 3000","timestamp":"2025-08-20T22:25:41.331Z"}
{"level":"info","message":"Email processing worker ready","timestamp":"2025-08-20T22:25:41.332Z"}
{"level":"info","message":"Client connected: IZeKfaXzDiCuhFRBAAAB","timestamp":"2025-08-20T22:27:34.922Z"}
{"level":"info","message":"Client IZeKfaXzDiCuhFRBAAAB subscribed to email updates","timestamp":"2025-08-20T22:27:34.926Z"}
{"level":"info","message":"Client connected: FZOwdVTzhp6IyVjmAAAD","timestamp":"2025-08-20T22:27:35.419Z"}
{"level":"info","message":"Client IZeKfaXzDiCuhFRBAAAB subscribed to email updates","timestamp":"2025-08-20T22:27:35.424Z"}
{"level":"info","message":"GET / - 200 - 4ms","timestamp":"2025-08-20T22:27:35.989Z"}
{"level":"info","message":"GET /status - 200 - 5ms","timestamp":"2025-08-20T22:27:37.923Z"}
{"level":"info","message":"GET /status - 200 - 3ms","timestamp":"2025-08-20T22:27:37.924Z"}
{"level":"info","message":"GET /config - 200 - 2ms","timestamp":"2025-08-20T22:27:37.994Z"}
{"level":"info","message":"GET /config - 200 - 1ms","timestamp":"2025-08-20T22:27:37.999Z"}
{"level":"info","message":"GET /status - 304 - 5ms","timestamp":"2025-08-20T22:27:38.013Z"}
{"level":"info","message":"GET /status - 304 - 6ms","timestamp":"2025-08-20T22:27:38.013Z"}
{"level":"info","message":"GET /status - 304 - 1ms","timestamp":"2025-08-20T22:27:38.017Z"}
{"level":"info","message":"GET /status - 304 - 0ms","timestamp":"2025-08-20T22:27:38.018Z"}
{"level":"info","message":"Client connected: P2OOuKEa6A7e7_7fAAAG","timestamp":"2025-08-20T22:27:38.026Z"}
{"level":"info","message":"Client connected: mZ9RK6DSfHYeb6A2AAAH","timestamp":"2025-08-20T22:27:38.027Z"}
{"level":"info","message":"Client mZ9RK6DSfHYeb6A2AAAH subscribed to email updates","timestamp":"2025-08-20T22:27:38.048Z"}
{"level":"info","message":"Client mZ9RK6DSfHYeb6A2AAAH subscribed to email updates","timestamp":"2025-08-20T22:27:38.052Z"}
{"level":"info","message":"Client disconnected: IZeKfaXzDiCuhFRBAAAB","timestamp":"2025-08-20T22:27:38.055Z"}
{"level":"info","message":"Client disconnected: FZOwdVTzhp6IyVjmAAAD","timestamp":"2025-08-20T22:27:38.055Z"}
{"level":"info","message":"GET /queue/stats - 200 - 65ms","timestamp":"2025-08-20T22:27:38.088Z"}
{"level":"info","message":"GET /queue/stats - 200 - 67ms","timestamp":"2025-08-20T22:27:38.089Z"}
{"level":"info","message":"GET /emails/cmeh4cc3n000je4gwd1oyyi0i - 304 - 3ms","timestamp":"2025-08-20T22:27:38.094Z"}
{"level":"info","message":"GET /emails/cmeh4cc3n000je4gwd1oyyi0i - 304 - 3ms","timestamp":"2025-08-20T22:27:38.095Z"}
{"level":"info","message":"GET / - 200 - 7ms","timestamp":"2025-08-20T22:27:42.572Z"}
{"level":"info","message":"Client disconnected: mZ9RK6DSfHYeb6A2AAAH","timestamp":"2025-08-20T22:27:42.577Z"}
{"level":"info","message":"Client disconnected: P2OOuKEa6A7e7_7fAAAG","timestamp":"2025-08-20T22:27:42.577Z"}
{"level":"info","message":"GET /status - 200 - 4ms","timestamp":"2025-08-20T22:27:42.647Z"}
{"level":"info","message":"GET /status - 200 - 4ms","timestamp":"2025-08-20T22:27:42.648Z"}
{"level":"info","message":"GET /config - 200 - 1ms","timestamp":"2025-08-20T22:27:42.662Z"}
{"level":"info","message":"GET /config - 200 - 1ms","timestamp":"2025-08-20T22:27:42.671Z"}
{"level":"info","message":"GET /status - 304 - 6ms","timestamp":"2025-08-20T22:27:42.678Z"}
{"level":"info","message":"GET /status - 304 - 5ms","timestamp":"2025-08-20T22:27:42.678Z"}
{"level":"info","message":"GET /status - 304 - 0ms","timestamp":"2025-08-20T22:27:42.681Z"}
{"level":"info","message":"GET /status - 304 - 0ms","timestamp":"2025-08-20T22:27:42.683Z"}
{"level":"info","message":"Client connected: ivuj4mVsPvYb8gFpAAAK","timestamp":"2025-08-20T22:27:42.689Z"}
{"level":"info","message":"Client connected: -J1nzNrGKIrewjjXAAAL","timestamp":"2025-08-20T22:27:42.692Z"}
{"level":"info","message":"GET /queue/stats - 200 - 14ms","timestamp":"2025-08-20T22:27:42.700Z"}
{"level":"info","message":"GET /queue/stats - 200 - 14ms","timestamp":"2025-08-20T22:27:42.702Z"}
{"level":"info","message":"Client -J1nzNrGKIrewjjXAAAL subscribed to email updates","timestamp":"2025-08-20T22:27:42.703Z"}
{"level":"info","message":"Client -J1nzNrGKIrewjjXAAAL subscribed to email updates","timestamp":"2025-08-20T22:27:42.707Z"}
{"level":"info","message":"GET /emails/cmeh4cc3n000je4gwd1oyyi0i - 304 - 2ms","timestamp":"2025-08-20T22:27:42.708Z"}
{"level":"info","message":"GET /emails/cmeh4cc3n000je4gwd1oyyi0i - 304 - 3ms","timestamp":"2025-08-20T22:27:42.709Z"}
{"level":"info","message":"POST /testing/test-openai - 200 - 4244ms","timestamp":"2025-08-20T22:28:09.432Z"}
{"level":"info","message":"GET /queue/stats - 200 - 25ms","timestamp":"2025-08-20T22:28:25.358Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 304 - 3ms","timestamp":"2025-08-20T22:28:25.367Z"}
{"level":"info","message":"Started monitoring account alimazid@gmail.com (cmeki0g0p000h13kfgrcunawo)","timestamp":"2025-08-20T22:28:27.468Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:28:27.718Z"}
{"level":"info","message":"Created processed email record for: BHD Notificaci√≥n de Transacciones","timestamp":"2025-08-20T22:28:27.943Z"}
{"level":"info","message":"Added classify job: 289 for email: cmekjnrmm000xhuv0qgcs43zj","timestamp":"2025-08-20T22:28:27.952Z"}
{"level":"info","message":"Queued email cmekjnrmm000xhuv0qgcs43zj for AI processing","timestamp":"2025-08-20T22:28:27.952Z"}
{"emailId":"cmekjnrmm000xhuv0qgcs43zj","jobId":"289","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:27.954Z"}
{"level":"info","message":"Created processed email record for: Penny Prototype (Unverified) now has access to Amira‚Äôs Google Account","timestamp":"2025-08-20T22:28:28.159Z"}
{"level":"info","message":"Added classify job: 290 for email: cmekjnrst0011huv0fpvlzhfc","timestamp":"2025-08-20T22:28:28.171Z"}
{"level":"info","message":"Queued email cmekjnrst0011huv0fpvlzhfc for AI processing","timestamp":"2025-08-20T22:28:28.171Z"}
{"emailId":"cmekjnrst0011huv0fpvlzhfc","jobId":"290","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:28.173Z"}
{"level":"info","message":"Created processed email record for: Welcome to your Docusign trial Ali","timestamp":"2025-08-20T22:28:28.404Z"}
{"level":"info","message":"Added classify job: 291 for email: cmekjnrzj0015huv0txuf13o7","timestamp":"2025-08-20T22:28:28.410Z"}
{"level":"info","message":"Queued email cmekjnrzj0015huv0txuf13o7 for AI processing","timestamp":"2025-08-20T22:28:28.410Z"}
{"level":"info","message":"Created processed email record for: Conoce el combo perfecto para iniciar el a√±o escolar con bienestar ‚ú®","timestamp":"2025-08-20T22:28:28.624Z"}
{"level":"info","message":"Added classify job: 292 for email: cmekjns5o0019huv0mcyzx3g1","timestamp":"2025-08-20T22:28:28.633Z"}
{"level":"info","message":"Queued email cmekjns5o0019huv0mcyzx3g1 for AI processing","timestamp":"2025-08-20T22:28:28.634Z"}
{"level":"info","message":"Created processed email record for: Failed production deployment on team 'alimazid's projects'","timestamp":"2025-08-20T22:28:28.824Z"}
{"level":"info","message":"Added classify job: 293 for email: cmekjnsba001dhuv0uhaqfekj","timestamp":"2025-08-20T22:28:28.834Z"}
{"level":"info","message":"Queued email cmekjnsba001dhuv0uhaqfekj for AI processing","timestamp":"2025-08-20T22:28:28.834Z"}
{"level":"info","message":"Created processed email record for: New sign-in detected on your Vercel account","timestamp":"2025-08-20T22:28:29.083Z"}
{"level":"info","message":"Added classify job: 294 for email: cmekjnsig001hhuv0qzb9bdod","timestamp":"2025-08-20T22:28:29.096Z"}
{"level":"info","message":"Queued email cmekjnsig001hhuv0qzb9bdod for AI processing","timestamp":"2025-08-20T22:28:29.096Z"}
{"level":"info","message":"Created processed email record for: Aviso cargo comisi√≥n por bajo balance","timestamp":"2025-08-20T22:28:29.318Z"}
{"level":"info","message":"Added classify job: 295 for email: cmekjnsov001lhuv0d3efa2tq","timestamp":"2025-08-20T22:28:29.328Z"}
{"level":"info","message":"Queued email cmekjnsov001lhuv0d3efa2tq for AI processing","timestamp":"2025-08-20T22:28:29.328Z"}
{"level":"info","message":"Created processed email record for: üöÄ Ahorra tiempo: gestiona tu seguro 2X m√°s r√°pido con nuestros Canales Digitales","timestamp":"2025-08-20T22:28:29.535Z"}
{"level":"info","message":"Added classify job: 296 for email: cmekjnsv1001phuv00x2g4qqe","timestamp":"2025-08-20T22:28:29.542Z"}
{"level":"info","message":"Queued email cmekjnsv1001phuv00x2g4qqe for AI processing","timestamp":"2025-08-20T22:28:29.542Z"}
{"level":"info","message":"Created processed email record for: New sign-in detected on your Vercel account","timestamp":"2025-08-20T22:28:29.757Z"}
{"level":"info","message":"Added classify job: 297 for email: cmekjnt16001thuv01vejvz1c","timestamp":"2025-08-20T22:28:29.766Z"}
{"level":"info","message":"Queued email cmekjnt16001thuv01vejvz1c for AI processing","timestamp":"2025-08-20T22:28:29.767Z"}
{"level":"info","message":"Created processed email record for: New sign-in detected on your Vercel account","timestamp":"2025-08-20T22:28:29.995Z"}
{"level":"info","message":"Added classify job: 298 for email: cmekjnt7s001xhuv04yhrfnlb","timestamp":"2025-08-20T22:28:30.000Z"}
{"level":"info","message":"Queued email cmekjnt7s001xhuv04yhrfnlb for AI processing","timestamp":"2025-08-20T22:28:30.001Z"}
{"level":"info","message":"Created processed email record for: [GitHub] Sudo email verification code","timestamp":"2025-08-20T22:28:30.220Z"}
{"level":"info","message":"Added classify job: 299 for email: cmekjnte20021huv0uybm5blb","timestamp":"2025-08-20T22:28:30.225Z"}
{"level":"info","message":"Queued email cmekjnte20021huv0uybm5blb for AI processing","timestamp":"2025-08-20T22:28:30.225Z"}
{"level":"info","message":"Created processed email record for: [GitHub] A Google identity was just linked to your GitHub account.","timestamp":"2025-08-20T22:28:30.421Z"}
{"level":"info","message":"Added classify job: 300 for email: cmekjntjn0025huv0t3j6uydy","timestamp":"2025-08-20T22:28:30.425Z"}
{"level":"info","message":"Queued email cmekjntjn0025huv0t3j6uydy for AI processing","timestamp":"2025-08-20T22:28:30.425Z"}
{"level":"info","message":"Created processed email record for: Thumbs-up or thumbs-down on your new audiobook?","timestamp":"2025-08-20T22:28:30.685Z"}
{"level":"info","message":"Added classify job: 301 for email: cmekjntqy0029huv04qot46g1","timestamp":"2025-08-20T22:28:30.693Z"}
{"level":"info","message":"Queued email cmekjntqy0029huv04qot46g1 for AI processing","timestamp":"2025-08-20T22:28:30.693Z"}
{"level":"info","message":"Created processed email record for: What does  7-Eleven, Amazon, Lazada, Rappi, Swiggy & Starbucks have in Common?\n","timestamp":"2025-08-20T22:28:30.901Z"}
{"level":"info","message":"Added classify job: 302 for email: cmekjntwy002dhuv0f8kbrs91","timestamp":"2025-08-20T22:28:30.914Z"}
{"level":"info","message":"Queued email cmekjntwy002dhuv0f8kbrs91 for AI processing","timestamp":"2025-08-20T22:28:30.914Z"}
{"classification":{"category":"non_financial","confidence":0,"isFinancial":false,"language":"en","reasoning":"The email discusses access to a Google account and third-party app permissions, but does not contain any financial information or transactions."},"emailId":"cmekjnrst0011huv0fpvlzhfc","level":"info","message":"Email processing job 290 completed:","success":true,"timestamp":"2025-08-20T22:28:30.957Z"}
{"emailId":"cmekjnrzj0015huv0txuf13o7","jobId":"291","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:30.958Z"}
{"level":"info","message":"Queueing extraction for cmekjnrmm000xhuv0qgcs43zj: credit_card (financial: true)","timestamp":"2025-08-20T22:28:30.999Z"}
{"level":"info","message":"Queueing extraction job for email cmekjnrmm000xhuv0qgcs43zj (CREDIT_CARD)","timestamp":"2025-08-20T22:28:31.001Z"}
{"level":"info","message":"Added extract job: 303 for email: cmekjnrmm000xhuv0qgcs43zj","timestamp":"2025-08-20T22:28:31.003Z"}
{"classification":{"category":"credit_card","confidence":1,"currency":"DOP","isFinancial":true,"language":"es","reasoning":"The email contains details of a credit card transaction, including the amount, date, merchant, and status, which are all financial information.","subcategory":"transaction_notification"},"emailId":"cmekjnrmm000xhuv0qgcs43zj","level":"info","message":"Email processing job 289 completed:","success":true,"timestamp":"2025-08-20T22:28:31.008Z"}
{"emailId":"cmekjns5o0019huv0mcyzx3g1","jobId":"292","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:31.009Z"}
{"level":"info","message":"Created processed email record for: A refund has been issued for Microsoft 365 Family","timestamp":"2025-08-20T22:28:31.133Z"}
{"level":"info","message":"Added classify job: 304 for email: cmekjnu3d002khuv0w0iroyue","timestamp":"2025-08-20T22:28:31.141Z"}
{"level":"info","message":"Queued email cmekjnu3d002khuv0w0iroyue for AI processing","timestamp":"2025-08-20T22:28:31.141Z"}
{"level":"info","message":"Started monitoring account alimazid@gmail.com via API","timestamp":"2025-08-20T22:28:31.141Z"}
{"level":"info","message":"POST /start - 200 - 5038ms","timestamp":"2025-08-20T22:28:31.142Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 9ms","timestamp":"2025-08-20T22:28:31.157Z"}
{"level":"info","message":"GET /queue/stats - 200 - 22ms","timestamp":"2025-08-20T22:28:32.168Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 304 - 8ms","timestamp":"2025-08-20T22:28:32.186Z"}
{"classification":{"category":"non_financial","confidence":0,"isFinancial":false,"language":"en","reasoning":"The email is a welcome message for a trial of Docusign and does not contain any financial information."},"emailId":"cmekjnrzj0015huv0txuf13o7","level":"info","message":"Email processing job 291 completed:","success":true,"timestamp":"2025-08-20T22:28:32.227Z"}
{"emailId":"cmekjnsba001dhuv0uhaqfekj","jobId":"293","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:32.227Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"es","reasoning":"The email does not contain any specific financial information or terms related to banking, credit cards, investments, payments, or other financial categories."},"emailId":"cmekjns5o0019huv0mcyzx3g1","level":"info","message":"Email processing job 292 completed:","success":true,"timestamp":"2025-08-20T22:28:32.818Z"}
{"emailId":"cmekjnsig001hhuv0qzb9bdod","jobId":"294","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:32.819Z"}
{"level":"info","message":"GET /queue/stats - 200 - 27ms","timestamp":"2025-08-20T22:28:33.864Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 9ms","timestamp":"2025-08-20T22:28:33.883Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"en","reasoning":"The email discusses a failed production deployment and does not contain any financial information or transactions."},"emailId":"cmekjnsba001dhuv0uhaqfekj","level":"info","message":"Email processing job 293 completed:","success":true,"timestamp":"2025-08-20T22:28:34.502Z"}
{"emailId":"cmekjnsov001lhuv0d3efa2tq","jobId":"295","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:34.505Z"}
{"classification":{"category":"non_financial","confidence":0,"isFinancial":false,"language":"en","reasoning":"The email is a security notification regarding a sign-in attempt and does not contain any financial information or transactions."},"emailId":"cmekjnsig001hhuv0qzb9bdod","level":"info","message":"Email processing job 294 completed:","success":true,"timestamp":"2025-08-20T22:28:35.176Z"}
{"emailId":"cmekjnsv1001phuv00x2g4qqe","jobId":"296","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:35.177Z"}
{"level":"info","message":"GET /queue/stats - 200 - 24ms","timestamp":"2025-08-20T22:28:36.223Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 7ms","timestamp":"2025-08-20T22:28:36.238Z"}
{"level":"info","message":"Queueing extraction for cmekjnsov001lhuv0d3efa2tq: banking (financial: true)","timestamp":"2025-08-20T22:28:36.628Z"}
{"level":"info","message":"Queueing extraction job for email cmekjnsov001lhuv0d3efa2tq (BANKING)","timestamp":"2025-08-20T22:28:36.633Z"}
{"level":"info","message":"Added extract job: 305 for email: cmekjnsov001lhuv0d3efa2tq","timestamp":"2025-08-20T22:28:36.640Z"}
{"classification":{"category":"banking","confidence":0.9,"currency":"DOP","isFinancial":true,"language":"es","reasoning":"The subject mentions a commission charge for low balance, indicating a financial notification related to banking.","subcategory":"notification"},"emailId":"cmekjnsov001lhuv0d3efa2tq","level":"info","message":"Email processing job 295 completed:","success":true,"timestamp":"2025-08-20T22:28:36.642Z"}
{"emailId":"cmekjnt16001thuv01vejvz1c","jobId":"297","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:36.642Z"}
{"level":"info","message":"Queueing extraction for cmekjnsv1001phuv00x2g4qqe: insurance (financial: true)","timestamp":"2025-08-20T22:28:37.160Z"}
{"level":"info","message":"Queueing extraction job for email cmekjnsv1001phuv00x2g4qqe (INSURANCE)","timestamp":"2025-08-20T22:28:37.163Z"}
{"level":"info","message":"Added extract job: 306 for email: cmekjnsv1001phuv00x2g4qqe","timestamp":"2025-08-20T22:28:37.166Z"}
{"classification":{"category":"insurance","confidence":0.7,"currency":"DOP","isFinancial":true,"language":"es","reasoning":"The email is from an insurance company and discusses managing insurance, indicating it contains financial information related to insurance services.","subcategory":"non-specific insurance communication"},"emailId":"cmekjnsv1001phuv00x2g4qqe","level":"info","message":"Email processing job 296 completed:","success":true,"timestamp":"2025-08-20T22:28:37.172Z"}
{"emailId":"cmekjnt7s001xhuv04yhrfnlb","jobId":"298","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:37.172Z"}
{"level":"info","message":"GET /queue/stats - 200 - 26ms","timestamp":"2025-08-20T22:28:38.213Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 8ms","timestamp":"2025-08-20T22:28:38.230Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"en","reasoning":"The email is a security notification regarding account sign-in activity and does not contain any financial transactions, statements, or related information."},"emailId":"cmekjnt16001thuv01vejvz1c","level":"info","message":"Email processing job 297 completed:","success":true,"timestamp":"2025-08-20T22:28:38.323Z"}
{"emailId":"cmekjnte20021huv0uybm5blb","jobId":"299","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:38.323Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"en","reasoning":"The email is a security notification regarding a sign-in attempt and does not contain any financial information such as transactions, payments, or account balances."},"emailId":"cmekjnt7s001xhuv04yhrfnlb","level":"info","message":"Email processing job 298 completed:","success":true,"timestamp":"2025-08-20T22:28:38.811Z"}
{"emailId":"cmekjntjn0025huv0t3j6uydy","jobId":"300","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:38.812Z"}
{"level":"info","message":"GET /queue/stats - 200 - 27ms","timestamp":"2025-08-20T22:28:39.857Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 9ms","timestamp":"2025-08-20T22:28:39.876Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"en","reasoning":"The email discusses linking a Google identity to a GitHub account and does not contain any financial information such as transactions, payments, or account balances."},"emailId":"cmekjntjn0025huv0t3j6uydy","level":"info","message":"Email processing job 300 completed:","success":true,"timestamp":"2025-08-20T22:28:39.892Z"}
{"emailId":"cmekjntqy0029huv04qot46g1","jobId":"301","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:39.892Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"en","reasoning":"The email contains a verification code for authentication purposes and does not include any financial information such as transactions, payments, or account details."},"emailId":"cmekjnte20021huv0uybm5blb","level":"info","message":"Email processing job 299 completed:","success":true,"timestamp":"2025-08-20T22:28:40.233Z"}
{"emailId":"cmekjntwy002dhuv0f8kbrs91","jobId":"302","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:40.233Z"}
{"level":"info","message":"GET /queue/stats - 200 - 25ms","timestamp":"2025-08-20T22:28:41.275Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 11ms","timestamp":"2025-08-20T22:28:41.293Z"}
{"level":"info","message":"Queueing extraction for cmekjntwy002dhuv0f8kbrs91: other_financial (financial: true)","timestamp":"2025-08-20T22:28:42.093Z"}
{"level":"info","message":"Queueing extraction job for email cmekjntwy002dhuv0f8kbrs91 (OTHER)","timestamp":"2025-08-20T22:28:42.099Z"}
{"level":"info","message":"Added extract job: 307 for email: cmekjntwy002dhuv0f8kbrs91","timestamp":"2025-08-20T22:28:42.108Z"}
{"classification":{"category":"other_financial","confidence":0.9,"currency":"USD","isFinancial":true,"language":"en","reasoning":"The email discusses a testnet campaign involving rewards in the form of a cryptocurrency ($CYPR) that can be swapped for USDC, indicating financial transactions and incentives.","subcategory":"incentives"},"emailId":"cmekjntwy002dhuv0f8kbrs91","level":"info","message":"Email processing job 302 completed:","success":true,"timestamp":"2025-08-20T22:28:42.110Z"}
{"emailId":"cmekjnu3d002khuv0w0iroyue","jobId":"304","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:42.111Z"}
{"classification":{"category":"non_financial","confidence":0.1,"isFinancial":false,"language":"en","reasoning":"The email is a customer feedback request from Audible regarding an audiobook and does not contain any financial information or transactions."},"emailId":"cmekjntqy0029huv04qot46g1","level":"info","message":"Email processing job 301 completed:","success":true,"timestamp":"2025-08-20T22:28:43.000Z"}
{"emailId":"cmekjnrmm000xhuv0qgcs43zj","jobId":"303","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:43.000Z"}
{"level":"info","message":"Queueing extraction for cmekjnu3d002khuv0w0iroyue: subscription (financial: true)","timestamp":"2025-08-20T22:28:43.814Z"}
{"level":"info","message":"Queueing extraction job for email cmekjnu3d002khuv0w0iroyue (PAYMENT)","timestamp":"2025-08-20T22:28:43.817Z"}
{"level":"info","message":"Added extract job: 308 for email: cmekjnu3d002khuv0w0iroyue","timestamp":"2025-08-20T22:28:43.820Z"}
{"classification":{"category":"subscription","confidence":1,"currency":"USD","isFinancial":true,"language":"en","reasoning":"The email contains information about a refund issued for a subscription service, including the amount refunded and the payment method used.","subcategory":"refund"},"emailId":"cmekjnu3d002khuv0w0iroyue","level":"info","message":"Email processing job 304 completed:","success":true,"timestamp":"2025-08-20T22:28:43.822Z"}
{"emailId":"cmekjnsov001lhuv0d3efa2tq","jobId":"305","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:43.823Z"}
{"level":"info","message":"GET /queue/stats - 200 - 23ms","timestamp":"2025-08-20T22:28:44.863Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 6ms","timestamp":"2025-08-20T22:28:44.883Z"}
{"emailId":"cmekjnrmm000xhuv0qgcs43zj","extraction":{"accountNumber":"2274","amount":1550,"category":"retail","confidence":1,"currency":"DOP","date":"2025-08-20T18:02:00","merchantName":"LITTLE BABY KS","transactionType":"payment"},"level":"info","message":"Email processing job 303 completed:","success":true,"timestamp":"2025-08-20T22:28:44.884Z"}
{"emailId":"cmekjnsv1001phuv00x2g4qqe","jobId":"306","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:44.884Z"}
{"emailId":"cmekjnsov001lhuv0d3efa2tq","extraction":{"accountNumber":"**** 1234","amount":1500,"category":"banking","confidence":0.9,"currency":"DOP","date":"2023-10-01","description":"cargo comisi√≥n por bajo balance","merchantName":"Banco","transactionId":"c√≥digo: 123456","transactionType":"fee"},"level":"info","message":"Email processing job 305 completed:","success":true,"timestamp":"2025-08-20T22:28:45.766Z"}
{"emailId":"cmekjntwy002dhuv0f8kbrs91","jobId":"307","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:45.767Z"}
{"emailId":"cmekjnsv1001phuv00x2g4qqe","extraction":{"confidence":0},"level":"info","message":"Email processing job 306 completed:","success":true,"timestamp":"2025-08-20T22:28:46.379Z"}
{"emailId":"cmekjnu3d002khuv0w0iroyue","jobId":"308","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T22:28:46.380Z"}
{"level":"info","message":"GET /queue/stats - 200 - 23ms","timestamp":"2025-08-20T22:28:47.423Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 8ms","timestamp":"2025-08-20T22:28:47.441Z"}
{"emailId":"cmekjntwy002dhuv0f8kbrs91","extraction":{"amount":50000,"confidence":0.8,"currency":"USD","description":"Incentivized testnet rewards","merchantName":"Uber, Amazon, Lazada, Rappi, Swiggy & Starbucks"},"level":"info","message":"Email processing job 307 completed:","success":true,"timestamp":"2025-08-20T22:28:47.562Z"}
{"level":"info","message":"GET /queue/stats - 200 - 21ms","timestamp":"2025-08-20T22:28:48.592Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 13ms","timestamp":"2025-08-20T22:28:48.614Z"}
{"emailId":"cmekjnu3d002khuv0w0iroyue","extraction":{"accountNumber":"**** 0976","amount":104.99,"category":"retail","confidence":1,"currency":"USD","description":"Reembolso por cancelaci√≥n de suscripci√≥n Microsoft 365 Family","merchantName":"Microsoft","transactionId":"0de61846-c322-4564-bf73-8b3bc1d5febb","transactionType":"credit"},"level":"info","message":"Email processing job 308 completed:","success":true,"timestamp":"2025-08-20T22:28:49.455Z"}
{"level":"info","message":"GET /queue/stats - 200 - 20ms","timestamp":"2025-08-20T22:28:50.485Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 8ms","timestamp":"2025-08-20T22:28:50.505Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:28:57.770Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:29:27.814Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:29:57.749Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:30:27.784Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:30:58.829Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:31:27.756Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:31:57.768Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:32:27.784Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:32:57.771Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:33:28.803Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:33:57.786Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:34:27.784Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:34:57.788Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:35:27.772Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:35:57.804Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:36:27.762Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:36:58.849Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:37:29.033Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T22:55:28.813Z"}
{"code":"ENOTFOUND","config":{"headers":{"Accept-Encoding":"gzip","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","x-goog-api-client":"gdcl/7.2.0 gl-node/24.6.0"},"method":"GET","params":{"maxResults":15,"q":"after:2025/08/19"},"responseType":"unknown","retry":true,"retryConfig":{"currentRetryAttempt":2,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"maxRetryDelay":9007199254740991,"noResponseRetries":2,"retry":3,"retryDelayMultiplier":2,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]],"timeOfFirstRequest":1755730695897,"totalTimeout":9007199254740991},"url":"https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"7.2.0"}]},"error":{"code":"ENOTFOUND","errno":"ENOTFOUND","message":"request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com","type":"system"},"level":"error","message":"Error listing recent emails: request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com","stack":"Error: request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com\n    at Gaxios._request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/gaxios@6.7.1/node_modules/gaxios/src/gaxios.ts:157:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OAuth2Client.requestAsync (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/google-auth-library@9.15.1/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async GmailService.listRecentEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/gmailService.ts:193:24)\n    at async EmailMonitoringService.fallbackEmailCheck (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:272:28)\n    at async EmailMonitoringService.checkForNewEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:259:9)\n    at async Timeout._onTimeout (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:83:9)","timestamp":"2025-08-20T22:58:16.524Z"}
{"level":"error","message":"Error in fallback email check: Failed to list recent emails","stack":"Error: Failed to list recent emails\n    at GmailService.listRecentEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/gmailService.ts:212:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EmailMonitoringService.fallbackEmailCheck (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:272:28)\n    at async EmailMonitoringService.checkForNewEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:259:9)\n    at async Timeout._onTimeout (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:83:9)","timestamp":"2025-08-20T22:58:16.525Z"}
{"code":"ENOTFOUND","config":{"headers":{"Accept-Encoding":"gzip","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","x-goog-api-client":"gdcl/7.2.0 gl-node/24.6.0"},"method":"GET","params":{"maxResults":15,"q":"after:2025/08/19"},"responseType":"unknown","retry":true,"retryConfig":{"currentRetryAttempt":2,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"maxRetryDelay":9007199254740991,"noResponseRetries":2,"retry":3,"retryDelayMultiplier":2,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]],"timeOfFirstRequest":1755730753476,"totalTimeout":9007199254740991},"url":"https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"7.2.0"}]},"error":{"code":"ENOTFOUND","errno":"ENOTFOUND","message":"request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com","type":"system"},"level":"error","message":"Error listing recent emails: request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com","stack":"Error: request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com\n    at Gaxios._request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/gaxios@6.7.1/node_modules/gaxios/src/gaxios.ts:157:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OAuth2Client.requestAsync (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/google-auth-library@9.15.1/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async GmailService.listRecentEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/gmailService.ts:193:24)\n    at async EmailMonitoringService.fallbackEmailCheck (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:272:28)\n    at async EmailMonitoringService.checkForNewEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:259:9)\n    at async Timeout._onTimeout (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:83:9)","timestamp":"2025-08-20T22:59:14.093Z"}
{"level":"error","message":"Error in fallback email check: Failed to list recent emails","stack":"Error: Failed to list recent emails\n    at GmailService.listRecentEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/gmailService.ts:212:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EmailMonitoringService.fallbackEmailCheck (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:272:28)\n    at async EmailMonitoringService.checkForNewEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:259:9)\n    at async Timeout._onTimeout (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:83:9)","timestamp":"2025-08-20T22:59:14.094Z"}
{"code":"ENOTFOUND","config":{"headers":{"Accept-Encoding":"gzip","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","x-goog-api-client":"gdcl/7.2.0 gl-node/24.6.0"},"method":"GET","params":{"maxResults":15,"q":"after:2025/08/19"},"responseType":"unknown","retry":true,"retryConfig":{"currentRetryAttempt":2,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"maxRetryDelay":9007199254740991,"noResponseRetries":2,"retry":3,"retryDelayMultiplier":2,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]],"timeOfFirstRequest":1755731835876,"totalTimeout":9007199254740991},"url":"https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"7.2.0"}]},"error":{"code":"ENOTFOUND","errno":"ENOTFOUND","message":"request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com","type":"system"},"level":"error","message":"Error listing recent emails: request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com","stack":"Error: request to https://gmail.googleapis.com/gmail/v1/users/me/messages?q=after%3A2025%2F08%2F19&maxResults=15 failed, reason: getaddrinfo ENOTFOUND gmail.googleapis.com\n    at Gaxios._request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/gaxios@6.7.1/node_modules/gaxios/src/gaxios.ts:157:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OAuth2Client.requestAsync (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/google-auth-library@9.15.1/node_modules/google-auth-library/build/src/auth/oauth2client.js:429:18)\n    at async GmailService.listRecentEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/gmailService.ts:193:24)\n    at async EmailMonitoringService.fallbackEmailCheck (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:272:28)\n    at async EmailMonitoringService.checkForNewEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:259:9)\n    at async Timeout._onTimeout (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:83:9)","timestamp":"2025-08-20T23:17:16.490Z"}
{"level":"error","message":"Error in fallback email check: Failed to list recent emails","stack":"Error: Failed to list recent emails\n    at GmailService.listRecentEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/gmailService.ts:212:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async EmailMonitoringService.fallbackEmailCheck (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:272:28)\n    at async EmailMonitoringService.checkForNewEmails (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:259:9)\n    at async Timeout._onTimeout (/Users/alimazid/Claude/Penny/prototype-clean/src/services/emailMonitoringService.ts:83:9)","timestamp":"2025-08-20T23:17:16.499Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T23:33:47.578Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-20T23:50:12.245Z"}
{"level":"info","message":"Created processed email record for: BHD Notificaci√≥n de Transacciones","timestamp":"2025-08-20T23:50:12.438Z"}
{"level":"info","message":"Added classify job: 309 for email: cmekmkvyq004rhuv0ji2z3tvn","timestamp":"2025-08-20T23:50:12.444Z"}
{"level":"info","message":"Queued email cmekmkvyq004rhuv0ji2z3tvn for AI processing","timestamp":"2025-08-20T23:50:12.444Z"}
{"emailId":"cmekmkvyq004rhuv0ji2z3tvn","jobId":"309","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T23:50:12.446Z"}
{"level":"info","message":"GET /queue/stats - 200 - 49ms","timestamp":"2025-08-20T23:50:13.672Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 13ms","timestamp":"2025-08-20T23:50:13.705Z"}
{"level":"info","message":"Queueing extraction for cmekmkvyq004rhuv0ji2z3tvn: credit_card (financial: true)","timestamp":"2025-08-20T23:50:15.200Z"}
{"level":"info","message":"Queueing extraction job for email cmekmkvyq004rhuv0ji2z3tvn (CREDIT_CARD)","timestamp":"2025-08-20T23:50:15.205Z"}
{"level":"info","message":"Added extract job: 310 for email: cmekmkvyq004rhuv0ji2z3tvn","timestamp":"2025-08-20T23:50:15.212Z"}
{"emailId":"cmekmkvyq004rhuv0ji2z3tvn","jobId":"310","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-20T23:50:15.214Z"}
{"classification":{"category":"credit_card","confidence":1,"currency":"DOP","isFinancial":true,"language":"es","reasoning":"The email contains details about a credit card transaction, including the amount, date, merchant, and status, which are all financial information.","subcategory":"transaction"},"emailId":"cmekmkvyq004rhuv0ji2z3tvn","level":"info","message":"Email processing job 309 completed:","success":true,"timestamp":"2025-08-20T23:50:15.216Z"}
{"level":"info","message":"GET /queue/stats - 200 - 17ms","timestamp":"2025-08-21T00:06:36.055Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 5ms","timestamp":"2025-08-21T00:06:36.100Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T00:06:37.161Z"}
{"level":"error","message":"Email processing worker error: Missing lock for job 310. delayed","stack":"Error: Missing lock for job 310. delayed\n    at Scripts.finishedErrors (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/scripts.ts:435:16)\n    at Job.moveToFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/job.ts:686:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async handleFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:724:11)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T00:06:39.167Z"}
{"level":"info","message":"GET /queue/stats - 200 - 23ms","timestamp":"2025-08-21T00:06:40.325Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 6ms","timestamp":"2025-08-21T00:06:40.345Z"}
{"emailId":"cmekmkvyq004rhuv0ji2z3tvn","jobId":"310","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-21T00:23:29.840Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T00:23:30.862Z"}
{"level":"info","message":"GET /queue/stats - 200 - 24ms","timestamp":"2025-08-21T00:23:31.171Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 304 - 6ms","timestamp":"2025-08-21T00:23:31.188Z"}
{"level":"error","message":"Database Error: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","target":"extractedData.create","timestamp":"2025-08-21T00:23:32.506Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Error processing extract job: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T00:23:32.510Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Email processing job 310 failed: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T00:23:32.514Z"}
{"emailId":"cmekmkvyq004rhuv0ji2z3tvn","jobId":"310","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-21T00:38:29.822Z"}
{"level":"info","message":"GET /queue/stats - 200 - 23ms","timestamp":"2025-08-21T00:38:31.161Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 6ms","timestamp":"2025-08-21T00:38:31.179Z"}
{"level":"error","message":"Database Error: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","target":"extractedData.create","timestamp":"2025-08-21T00:38:32.319Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Error processing extract job: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T00:38:32.325Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Email processing job 310 failed: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T00:38:32.329Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T00:38:32.365Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T00:54:41.184Z"}
{"level":"info","message":"Created processed email record for: BHD Notificaci√≥n de Transacciones","timestamp":"2025-08-21T00:54:41.379Z"}
{"level":"info","message":"Added classify job: 311 for email: cmekovt9d005khuv04nvm26z7","timestamp":"2025-08-21T00:54:41.382Z"}
{"level":"info","message":"Queued email cmekovt9d005khuv04nvm26z7 for AI processing","timestamp":"2025-08-21T00:54:41.382Z"}
{"emailId":"cmekovt9d005khuv04nvm26z7","jobId":"311","level":"info","message":"Processing classify job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-21T00:54:41.383Z"}
{"level":"info","message":"GET /queue/stats - 200 - 19ms","timestamp":"2025-08-21T00:54:42.617Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 10ms","timestamp":"2025-08-21T00:54:42.641Z"}
{"level":"info","message":"Queueing extraction for cmekovt9d005khuv04nvm26z7: credit_card (financial: true)","timestamp":"2025-08-21T00:54:44.255Z"}
{"level":"info","message":"Queueing extraction job for email cmekovt9d005khuv04nvm26z7 (CREDIT_CARD)","timestamp":"2025-08-21T00:54:44.259Z"}
{"level":"info","message":"Added extract job: 312 for email: cmekovt9d005khuv04nvm26z7","timestamp":"2025-08-21T00:54:44.263Z"}
{"emailId":"cmekovt9d005khuv04nvm26z7","jobId":"312","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-21T00:54:44.264Z"}
{"classification":{"category":"credit_card","confidence":1,"currency":"DOP","isFinancial":true,"language":"es","reasoning":"The email contains details of a credit card transaction including date, amount, merchant, and status, which are all financial information.","subcategory":"transaction"},"emailId":"cmekovt9d005khuv04nvm26z7","level":"info","message":"Email processing job 311 completed:","success":true,"timestamp":"2025-08-21T00:54:44.264Z"}
{"level":"info","message":"GET /queue/stats - 200 - 25ms","timestamp":"2025-08-21T01:12:01.031Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 8ms","timestamp":"2025-08-21T01:12:01.061Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T01:12:01.679Z"}
{"level":"error","message":"Email processing worker error: Missing lock for job 312. delayed","stack":"Error: Missing lock for job 312. delayed\n    at Scripts.finishedErrors (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/scripts.ts:435:16)\n    at Job.moveToFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/job.ts:686:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async handleFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:724:11)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T01:12:03.609Z"}
{"level":"info","message":"GET /queue/stats - 200 - 23ms","timestamp":"2025-08-21T01:12:04.840Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 12ms","timestamp":"2025-08-21T01:12:04.897Z"}
{"emailId":"cmekovt9d005khuv04nvm26z7","jobId":"312","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-21T01:29:12.826Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T01:29:13.589Z"}
{"level":"info","message":"GET /queue/stats - 200 - 15ms","timestamp":"2025-08-21T01:29:14.139Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 304 - 8ms","timestamp":"2025-08-21T01:29:14.154Z"}
{"level":"error","message":"Database Error: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","target":"extractedData.create","timestamp":"2025-08-21T01:29:15.977Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Error processing extract job: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T01:29:15.983Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Email processing job 312 failed: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T01:29:15.988Z"}
{"emailId":"cmekovt9d005khuv04nvm26z7","jobId":"312","level":"info","message":"Processing extract job for account cmeki0g0p000h13kfgrcunawo","timestamp":"2025-08-21T01:39:29.825Z"}
{"level":"info","message":"GET /queue/stats - 200 - 19ms","timestamp":"2025-08-21T01:39:31.097Z"}
{"level":"info","message":"GET /emails/cmeki0g0p000h13kfgrcunawo - 200 - 7ms","timestamp":"2025-08-21T01:39:31.115Z"}
{"level":"error","message":"Database Error: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","target":"extractedData.create","timestamp":"2025-08-21T01:39:32.322Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Error processing extract job: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T01:39:32.332Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Email processing job 312 failed: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)","meta":{"modelName":"ExtractedData","target":["emailId"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.extractedData.create()` invocation in\n/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:34\n\n  453 \n  454 // Store extraction results\n  455 // CRITICAL: For CREDIT_CARD emails, ALWAYS create extracted data record\n‚Üí 456 await prisma.extractedData.create(\nUnique constraint failed on the fields: (`emailId`)\n    at $n.handleRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async EmailProcessor.extractEmailData (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:456:7)\n    at async EmailProcessor.processJob (/Users/alimazid/Claude/Penny/prototype-clean/src/workers/emailProcessor.ts:74:18)\n    at async Worker.processJob (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:741:22)\n    at async Worker.retryIfFailed (/Users/alimazid/Claude/Penny/prototype-clean/node_modules/.pnpm/bullmq@4.18.3/node_modules/bullmq/src/classes/worker.ts:944:16)","timestamp":"2025-08-21T01:39:32.339Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T01:39:32.407Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T01:40:00.182Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T01:56:47.183Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:13:52.351Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:19:32.090Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:20:01.528Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:20:31.505Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:21:02.548Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:21:31.515Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:22:01.518Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:22:31.493Z"}
{"level":"info","message":"Fallback check: found 15 recent emails for alimazid@gmail.com","timestamp":"2025-08-21T02:23:01.512Z"}
